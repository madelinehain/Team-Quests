<!DOCTYPE html>
<html>
<head>
<title>Smoke Chart using Smoke File</title> <!-- Title of Website -->
<script type="text/javascript" src="https://canvasjs.com/assets/script/jquery-1.11.1.min.js"></script>
<script type="text/javascript" src="https://canvasjs.com/assets/script/canvasjs.min.js"></script>
<!-- Start ConvasJS Graph Script -->
<script type="text/javascript">
    window.onload = function() {
        var dataPoints = [];
	 
        function getDataPointsFromCSV(csv, ID_num, line_num) {
            var dataPoints = csvLines = points = [];
            csvLines = csv.split(/[\r?\n|\r|\n]+/);         
		        
            for (var i = 0; i < csvLines.length; i++)
                if (csvLines[i].length > 0) {
                    points = csvLines[i].split("\t");
                    if (parseFloat(points[1]) == ID_num) {
                        dataPoints.push({ 
                            x: parseFloat(points[0]),
                            y: parseFloat(points[line_num]) 		
                        });
                    }
                }
            return dataPoints;
        }
	
	// $.get("https://raw.githubusercontent.com/BU-EC444/01-EBook/main/docs/skills/docs/test-data/smoke.txt?token=GHSAT0AAAAAAB4HV652V6BYI7ECC56RO7Y2ZAA323Q", function(data) {
    // $.get("https://raw.githubusercontent.com/BU-EC444/01-EBook/main/docs/skills/docs/test-data/smoke.txt?token=GHSAT0AAAAAAB4HV653QQSHVG3KU7563EHGZAA7YSQ", function(data) {
    $.get("https://raw.githubusercontent.com/BU-EC444/01-EBook/main/docs/skills/docs/test-data/smoke.txt?token=GHSAT0AAAAAACALLI2LQBBVR3VGYLASFNXGZA53PSA", function(data) {
	    var chart = new CanvasJS.Chart("SmokeChart1", {
		    animationEnabled: true,
            title:{
                text: "Smoke.txt"
            },
            axisX: {
                title: "Time"
            },
            axisY: {
                title: "Temperature (in °C)",
                suffix: " °C"
            },
            axisY2: {
                title: "Smoke"
            },
            toolTip:{
		        shared: true
	        },
		    data: [{
                name: "ID: 1",
                type: "line",
                yValueFormatString: "#0.### °C",
                showInLegend: true,
                dataPoints: getDataPointsFromCSV(data, 1, 3)
            },
            {
                name: "ID: 2",
                type: "line",
                yValueFormatString: "#0.### °C",
                showInLegend: true,
                dataPoints: getDataPointsFromCSV(data, 2, 3)
            },
            {
                name: "ID: 3",
                type: "line",
                yValueFormatString: "#0.### °C",
                showInLegend: true,
                dataPoints: getDataPointsFromCSV(data, 3, 3)
            },
            {
                name: "ID: 4",
                type: "line",
                yValueFormatString: "#0.### °C",
                showInLegend: true,
                dataPoints: getDataPointsFromCSV(data, 4, 3)
            },
            {
                name: "ID: 5",
                type: "line",
                yValueFormatString: "#0.### °C",
                showInLegend: true,
                dataPoints: getDataPointsFromCSV(data, 5, 3)
            },
            {
                axisYType: "secondary",
                name: "Smoke 1",
                type: "line",
                lineDashType: "dash",
                showInLegend: true,
                dataPoints: getDataPointsFromCSV(data, 1, 2)
            },
            {
                axisYType: "secondary",
                name: "Smoke 2",
                type: "line",
                lineDashType: "dash",
                showInLegend: true,
                dataPoints: getDataPointsFromCSV(data, 2, 2)
            },
            {
                axisYType: "secondary",
                name: "Smoke 3",
                type: "line",
                lineDashType: "dash",
                showInLegend: true,
                dataPoints: getDataPointsFromCSV(data, 3, 2)
            },
            {
                axisYType: "secondary",
                name: "Smoke 4",
                type: "line",
                lineDashType: "dash",
                showInLegend: true,
                dataPoints: getDataPointsFromCSV(data, 4, 2)
            },
            {
                axisYType: "secondary",
                name: "Smoke 5",
                type: "line",
                lineDashType: "dash",
                showInLegend: true,
                dataPoints: getDataPointsFromCSV(data, 5, 2)
            }
            ]
            
	     });
		
	      chart.render();

	});
  }

// Ending Wrapper  - - - - - - - - - - - - - - - - - - - - 
</script>
</head>
<!-- Set Graph Positions on Webpage -->
<body>
	<div id="SmokeChart1" style="height: 300px; max-width: 920px; margin: 0px auto;"></div>
</body>
</html>